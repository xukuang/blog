<!DOCTYPE html>
  <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
    <head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8" />
      <meta name="author" content="Xu Kuang" />
      <title>字典 | Xu Kuang</title>
      <link rel="shortcut icon" href="/favicon.ico">
      <link href="http://xukuang.github.io/blog/feed/" rel="alternate" title="Xu Kuang" type="application/atom+xml" />
      <link rel="stylesheet" href="/media/css/style.css">
      <link rel="stylesheet" href="/media/css/highlight.css">
      <script type="text/javascript" src="/media/js/jquery-1.7.1.min.js"></script>
      <!--highlight.js Start-->
      <link rel="stylesheet" title="Default" href="/media/js/styles/tomorrow-night-blue.css">
      <script type="text/javascript" src="/media/js/highlight.pack.js"></script>
      <script>
         hljs.configure({tabReplace: '    '});
         hljs.initHighlightingOnLoad();
      </script>
      <!--highlight.js End-->
      <!--mathjax start-->
      <script type="text/javascript"
      src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
      </script>
      <!--mathjax end-->
   </head>
   <!--<script type="text/javascript">
    function setTimeSpan(){
    	var date = new Date();
    	timeSpan.innerText=date.format('yyyy-MM-dd hh:mm:ss');
    }
    
    Date.prototype.format = function(format)
		{
    var o =
    	{
    	    "M+" : this.getMonth()+1, //month
    	    "d+" : this.getDate(),    //day
    	    "h+" : this.getHours(),   //hour
    	    "m+" : this.getMinutes(), //minute
    	    "s+" : this.getSeconds(), //second
    	    "q+" : Math.floor((this.getMonth()+3)/3),  //quarter
    	    "S" : this.getMilliseconds() //millisecond
    	}
    	if(/(y+)/.test(format))
    	format=format.replace(RegExp.$1,(this.getFullYear()+"").substr(4 - RegExp.$1.length));
    	for(var k in o)
    	if(new RegExp("("+ k +")").test(format))
    	format = format.replace(RegExp.$1,RegExp.$1.length==1 ? o[k] : ("00"+ o[k]).substr((""+ o[k]).length));
    	return format;
		}
  </script>-->
   <body onLoad="setInterval(setTimeSpan,1000);">
     <div id="container">
       <div id="main" role="main">
         <header>
           <h1>字典</h1>
         </header>
         <nav>
           <!-- Sidebar -->
           <h5 id="logo" style="text-align:center;">
             <a href="http://xukuang.github.io/">HOME</a>
		   </h5>
           <span><a title="blog" class="" href="http://xukuang.github.io/blog/">BLOG</a></span>
           <span><a title="about" class="" href="http://xukuang.github.io/blog/about/">ABOUT</a></span>
           <span><a title="categories" class="" href="http://xukuang.github.io/blog/categories/">CATEGORIES</a></span>
           <span><a title="vitae" class="" href="http://xukuang.github.io/blog/vitae/">VITAE</a></span>
           <span><a title="tags" class="" href="http://xukuang.github.io/blog/tags/">TAGS</a></span>
           <span><a title="links" class="" href="http://xukuang.github.io/blog/links/">LINKS</a></span>
           <span><a title="subscribe by RSS" class="" href="http://xukuang.github.io/blog/feed/">SUBSCRIBE</a></span>
	       <!--<ul class="entry-right-list">
            <li class="date">获取每日の能量源</li>
            <li class="qr">
              <img src="http://xukuang.github.io/blog/images/beta.png" width="148" height="148" alt="ATP" style="margin-left: -10px;">
            </li>
           </ul>-->
         </nav>
         <article class="content">
           <section class="post">
<p>字典，Python内置数据类型之一，有如下属性：</p>

<ul>
  <li>任意对象的无序集合</li>
  <li>通过键而非偏移量读取</li>
  <li>可变的映射类型</li>
  <li>长度可变、任意嵌套</li>
</ul>

<p>对于字典，也要特别注意以下几点：</p>

<ul>
  <li>序列运算无效</li>
  <li>对新索引赋值会添加项</li>
  <li>键不一定是字符串，原则上任何不可改变对象(如整数，元组)都可以作为键<!--more--></li>
</ul>

<h2 id="section">1. 字典的创建</h2>

<h3 id="section-1">空字典的创建</h3>

<div class="highlighter-rouge"><pre class="highlight"><code># 空字典的创建
D = dict()
D = {} # 两种方法效果相同
</code></pre>
</div>

<h3 id="section-2">一般字典创建</h3>

<div class="highlighter-rouge"><pre class="highlight"><code># 方法一，利用{}
D = {'Spam': 2, 'eggs': 3, 'food': ['ham', 'egg']}
D # 注意字典是无序的，因此结果显示与创建时并不一致
# 方法二，dict()
D = dict(Spam = 2, eggs = 3, food = ['ham', 'egg']) # 该方法所有键必须是字符
D = dict([('Spam', 2), ('eggs', 3), ('food', ['ham', 'egg'])]) dict函数只有一个参数，所以要把所有项放到一个列表(或元组)中
# 方法三，利用字典方法创建字典，该方法所有键的值必须一样
D = dict.fromkeys(['a','b']) # 字典有两项，只有键，没有值
D = dict.fromkeys(['a','b'], 0) # 字典有两项，每一项的值都为0
# 方法四，利用字典解析
D = {x : x for x in [1, 2, 3, 4]}
D = {x : x for x in 'spam'}
</code></pre>
</div>

<h2 id="section-3">2. 字典的引用(通过键而非偏移量)</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>D = {'Spam': 2, 'eggs': 3, 'food': {'ham': 1, 'egg': 2}}
D['Spam']
D['food']['egg']
</code></pre>
</div>

<h2 id="section-4">3. 字典相关属性的查看</h2>

<h3 id="section-5">字典长度</h3>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">D</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Spam'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">'eggs'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s">'food'</span><span class="p">:</span> <span class="p">{</span><span class="s">'ham'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'egg'</span><span class="p">:</span> <span class="mi">2</span><span class="p">}}</span>
<span class="c"># len字典长度</span>
<span class="nb">len</span><span class="p">(</span><span class="n">D</span><span class="p">)</span>
</code></pre>
</div>

<h3 id="section-6">成员关系判断</h3>

<div class="highlighter-rouge"><pre class="highlight"><code># in
D = {'Spam': 2, 'eggs': 3, 'food': {'ham': 1, 'egg': 2}}
'Spam' in D
</code></pre>
</div>

<h3 id="section-7">查看字典的键、值和项</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>D = {'Spam': 2, 'ham':1, 'eggs': 3}
# dict.keys返回字典的键,返回结果是个迭代器，借助list函数查看
list(D.keys()) 
# dict.values返回字典的值,返回结果是个迭代器，借助list函数查看
list(D.values()) 
# dict.items返回字典的项,返回结果是个迭代器，借助list函数查看
list(D.items()) 
</code></pre>
</div>

<h3 id="section-8">判断键是否在字典中存在</h3>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># dict.get，键存在与字典则返回键的值，否则什么也不返回</span>
<span class="n">D</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Spam'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">'ham'</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s">'eggs'</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="n">D</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'Spam'</span><span class="p">)</span>
<span class="n">D</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'Spams'</span><span class="p">)</span> <span class="c"># 键不在字典中，什么也不返回</span>
<span class="n">D</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'Spams'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="c"># 键不在字典中，返回0，否则返回该键所对应的值</span>
</code></pre>
</div>

<h3 id="section-9">字典的键可以执行交集和并集运算</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>D = dict(a = 1, b = 2, c = 3)
K = D.keys() # K类似于集合，可以执行交集和并集运算
V = D.values() # V值不唯一，不能执行交集和并集运算
K | {'x': 4} # 结果为 {'a', 'b', 'c', 'x'}
K &amp; {'b'} # 字典未特定指明时，进行合并集操作，都是针对的是键
K &amp; {'b': 1} # 字典未特定指明时，进行合并集操作，都是针对的是键
K &amp; {'a', 'b', 'c'} # 字典未特定指明时，进行合并集操作，都是针对的是键
D.items() | D.keys() # {('a', 1), ('b', 2), ('c', 3), 'a', 'b', 'c'}
D.items() | D # {('a', 1), ('b', 2), ('c', 3), 'a', 'b', 'c'}
</code></pre>
</div>

<h2 id="section-10">4. 字典的修改</h2>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">D</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Spam'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">'ham'</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s">'eggs'</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="c"># 直接改变某个键的值</span>
<span class="n">D</span><span class="p">[</span><span class="s">'ham'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s">'grill'</span><span class="p">,</span> <span class="s">'bake'</span><span class="p">,</span> <span class="s">'fry'</span><span class="p">]</span>
<span class="c"># 添加新项</span>
<span class="n">D</span><span class="p">[</span><span class="s">'brunch'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'Bacon'</span>
<span class="c"># 删除某项</span>
<span class="k">del</span> <span class="n">D</span><span class="p">(</span><span class="s">'eggs'</span><span class="p">)</span>
<span class="n">D</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s">'eggs'</span><span class="p">)</span> <span class="c"># 返回删除的键对应的值</span>
<span class="c"># del 删除字典</span>
<span class="k">del</span> <span class="n">D</span>
<span class="c"># 用一个字典更新另一个字典</span>
<span class="c"># dict1.update(dict2)</span>
<span class="c"># dict2中的键在dict1中存在的则用dict2中键对应值替换调dict1原来的值</span>
<span class="c"># dict2中的键不在dict1中存在的直接合并到dict1中</span>
<span class="n">D1</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Spam'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">'ham'</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s">'eggs'</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="n">D2</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Spams'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">'hams'</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s">'eggs'</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="n">D1</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">D2</span><span class="p">)</span>
</code></pre>
</div>


</section>
<section class="meta">



<span>
	<a  href="http://xukuang.github.io/blog/2015/04/you-are-the-apple-of-my-eye/" class="pageNav"  >Previous</a>
	&nbsp;&nbsp;&nbsp;
	<a  href="http://xukuang.github.io/blog/2015/04/list-in-python/" class="pageNav"  >Next</a>
</span>


<span class="author">
  <a href="http://xukuang.github.io/blog">Xu Kuang</a>
</span>
<span class="time">
  /
  <time datetime="2015-04-06">2015-04-06</time>
</span>
<br />
<span class="license">
  Published under <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">(CC) BY-NC-SA</a>
</span>

<span class="categories">
  in categories
  
  <a href="http://xukuang.github.io/blog/categories/#技术篇" title="技术篇">技术篇</a>&nbsp;
  
</span>


<span class="tags">
  tagged with 
  
  <a href="http://xukuang.github.io/blog/tags/#python" title="python">python</a>&nbsp;
  
</span>

</section>
<div id="disqus_thread"></div>
<script>
/**
* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//httpxukuanggithubio.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

<script type="text/javascript">
$(function(){
  $(document).keydown(function(e) {
    if (e.target.nodeName.toUpperCase() != 'BODY') return;
    var url = false;
        if (e.which == 37 || e.which == 74) {  // Left arrow and J
            
        url = 'http://xukuang.github.io/blog/2015/04/you-are-the-apple-of-my-eye/';
        
        }
        else if (e.which == 39 || e.which == 75) {  // Right arrow and K
            
        url = 'http://xukuang.github.io/blog/2015/04/list-in-python/';
        
        }
        if (url) {
            window.location = url;
        }
  });
})
</script>


         </article>
       </div>
	   
	   
	   <footer>
           <p><small>Powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a> & <a href="http://pages.github.com">GitHub</a>| Copyright  2016 by <a href="http://xukuang.github.io/blog/about/">Xu Kuang</a></small></p>
       </footer>
	     <!--<footer>
           <p><small>Powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a> & <a href="http://pages.github.com">GitHub</a>| Copyright  2016 by <a href="http://xukuang.github.io/blog/about/">Xu Kuang</a> | <span class="label label-info" id="timeSpan" ></span></small></p>
       </footer>--> 
	   
	   </div>
       
	   <script type="text/javascript">
         var _gaq = _gaq || [];
         _gaq.push(['_setAccount', '']);
         _gaq.push(['_trackPageview']);
         (function() {
           var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
           ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
           var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
        </script>
	
    <!-- Baidu share-->
	<!-- <script type="text/javascript">
	window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"1","bdSize":"32"},"slide":{"type":"slide","bdImg":"0","bdPos":"right","bdTop":"100"}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
	</script> -->

    <!-- Baidu Button BEGIN -->
	<!-- <script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "//hm.baidu.com/hm.js?310f86f887042ea3a15786be6e96eb30";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script> -->
	<!-- Baidu Button END --> 
	
    </body>
  </html>
                                                    